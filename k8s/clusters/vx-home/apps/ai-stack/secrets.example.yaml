---
# secrets.example.yaml
#
# This is a TEMPLATE for secrets. DO NOT commit real secrets to Git!
#
# Usage:
#   1. Copy this file: cp secrets.example.yaml secrets.yaml
#   2. Edit secrets.yaml with your real values
#   3. Apply: kubectl apply -f secrets.yaml
#
# Note: secrets.yaml is gitignored and will NOT be committed
#

apiVersion: v1
kind: Secret
metadata:
  name: ai-secrets
  namespace: ai
  labels:
    app.kubernetes.io/part-of: vx-home-ai-stack
type: Opaque
stringData:
  # PostgreSQL Configuration
  # These values must match what pgvector StatefulSet expects
  POSTGRES_DB: "openwebui"
  POSTGRES_USER: "openwebui"
  POSTGRES_PASSWORD: "REPLACE_WITH_STRONG_PASSWORD"  # <-- CHANGE THIS!
  # Generate with: openssl rand -base64 24

  # Database URL (constructed from above values)
  # Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
  DATABASE_URL: "postgresql://openwebui:REPLACE_WITH_STRONG_PASSWORD@pgvector:5432/openwebui"
  # IMPORTANT: Update the password in this URL to match POSTGRES_PASSWORD above!

  # pgAdmin Configuration
  # Used for pgAdmin web interface login
  PGADMIN_DEFAULT_EMAIL: "admin@vx.home"
  PGADMIN_DEFAULT_PASSWORD: "REPLACE_WITH_PGADMIN_PASSWORD"  # <-- CHANGE THIS!
  # Generate with: openssl rand -base64 24

  # OpenAI API Configuration
  # Get your API key from: https://platform.openai.com/api-keys
  OPENAI_API_KEY: "sk-REPLACE_WITH_YOUR_OPENAI_API_KEY"  # <-- CHANGE THIS!
  # Example: sk-proj-abcd1234efgh5678ijkl9012mnop3456qrst7890uvwx...

# IMPORTANT SECURITY NOTES:
#
# 1. NEVER commit secrets.yaml to Git
#    - .gitignore is configured to exclude secrets.yaml
#    - Only secrets.example.yaml should be in version control
#
# 2. Use strong passwords (minimum 16 characters)
#    - Mix of uppercase, lowercase, numbers, symbols
#    - Don't reuse passwords from other services
#
# 3. Store OpenAI API key securely
#    - Treat as highly sensitive (like credit card)
#    - Monitor usage at: https://platform.openai.com/usage
#    - Set usage limits to prevent unexpected charges
#
# 4. For production, consider external secret management:
#    - HashiCorp Vault
#    - External Secrets Operator
#    - Sealed Secrets (Bitnami)
#
# 5. Rotate secrets regularly (every 90 days recommended)
#
# 6. If secrets are compromised:
#    - Immediately change passwords in secrets.yaml
#    - Reapply: kubectl apply -f secrets.yaml
#    - Restart affected pods: kubectl rollout restart -n ai deployment/<name>
#    - Revoke and regenerate OpenAI API key
