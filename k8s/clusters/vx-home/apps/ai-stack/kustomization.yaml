apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: ai

commonLabels:
  app.kubernetes.io/part-of: vx-home-ai-stack
  environment: homelab

resources:
  # Secrets (must be created from secrets.example.yaml)
  # Note: secrets.yaml is gitignored and created by user
  - secrets.example.yaml

  # Databases
  - pgvector/statefulset.yaml
  - pgvector/service.yaml
  - redis/statefulset.yaml
  - redis/service.yaml

  # Admin UIs
  - pgadmin/configmap-servers.yaml
  - pgadmin/deployment.yaml
  - pgadmin/service.yaml

  # AI Services (TTS/STT)
  - kokoro/deployment.yaml
  - kokoro/service.yaml
  - faster-whisper/deployment.yaml
  - faster-whisper/service.yaml

  # Frontend
  - openwebui/pvc.yaml
  - openwebui/deployment.yaml
  - openwebui/service.yaml

# Apply these configurations
configurations:
- kustomizeconfig.yaml
